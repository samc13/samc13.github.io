(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{168:(e,t,a)=>{"use strict";a.d(t,{default:()=>y});var o=a(5155),r=a(6703),n=a(5427),l=a(1032),s=a(6268),c=a(2596),i=a(2940),d=a.n(i),u=a(2115),h=a(4228),m=a.n(h),b=a(3371),f=a(528),p=a.n(f),g=a(582);let _=(0,l.FB)(),S=[_.accessor("eventName",{header:"Location",sortDescFirst:!0,cell:e=>(0,o.jsx)("span",{style:{fontWeight:"bold",color:(0,g.oD)(e.getValue())},children:e.getValue()})}),_.accessor("bestTime",{header:"Best Time",sortDescFirst:!0,sortingFn:(e,t)=>(0,r.to)(e.getValue("bestTime"))-(0,r.to)(t.getValue("bestTime"))}),_.accessor("averageTime",{header:"Avg Time",sortDescFirst:!0,sortingFn:(e,t)=>(0,r.to)(e.getValue("averageTime"))-(0,r.to)(t.getValue("averageTime"))}),_.accessor("bestPosition",{header:"Position",sortDescFirst:!0}),_.accessor("numberOfVisits",{header:"Visits",sortDescFirst:!0}),_.accessor("formattedDate",{header:"PB Date",sortDescFirst:!0,sortingFn:(e,t)=>{let a=e.original.bestRunDate,o=t.original.bestRunDate;return a.localeCompare(o)}})],y=()=>{let[e,t]=(0,u.useState)([]),[a,i]=(0,u.useState)([]);(0,u.useEffect)(()=>{(0,b.y)().then(e=>{t(e),i(function(e){let t=new Map;e.forEach(e=>{t.has(e.eventName)||t.set(e.eventName,[]),t.get(e.eventName).push(e)});let a=[];return t.forEach((e,t)=>{var o;let n=e.reduce((e,t)=>(0,r.to)(t.time)<(0,r.to)(e.time)?t:e),l=function(e){let t=Math.floor(e/60),a=Math.round(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))}(e.reduce((e,t)=>e+(0,r.to)(t.time),0)/e.length);a.push({eventName:t,bestTime:n.time,bestPosition:n.position,bestRunDate:n.date,formattedDate:(o=n.date,d()(o,"YYYY-MM-DD").format("DD MMM YY")),averageTime:l,numberOfVisits:e.length})}),a.sort((e,t)=>e.eventName.localeCompare(t.eventName))}(e))})},[]);let h=(0,s.N4)({data:a,columns:S,getCoreRowModel:(0,l.HT)(),getSortedRowModel:(0,l.h5)()});return(0,o.jsxs)("div",{className:p().container,children:[(0,o.jsx)("div",{className:p().tableWrapper,children:(0,o.jsxs)("table",{className:p().table,children:[(0,o.jsx)("thead",{children:h.getHeaderGroups().map(e=>(0,o.jsx)("tr",{className:p().tableHeader,children:e.headers.map(e=>(0,o.jsx)("th",{className:p().tableHeaderCell,children:e.isPlaceholder?null:(0,o.jsxs)("div",{className:e.column.getCanSort()?p().sortableHeader:"",onClick:e.column.getToggleSortingHandler(),children:[(0,s.Kv)(e.column.columnDef.header,e.getContext()),(0,o.jsxs)("span",{className:p().sortIconWrapper,children:[(0,o.jsx)(n.avw,{className:(0,c.A)(m()["inline-icon"],p().sortIcon,"asc"===e.column.getIsSorted()&&p().visible),size:16}),(0,o.jsx)(n.RFQ,{className:(0,c.A)(m()["inline-icon"],p().sortIcon,"desc"===e.column.getIsSorted()&&p().visible),size:16})]})]})},e.id))},e.id))}),(0,o.jsx)("tbody",{children:h.getRowModel().rows.map(e=>(0,o.jsx)("tr",{className:p().tableRow,children:e.getVisibleCells().map(e=>(0,o.jsx)("td",{className:p().tableCell,children:(0,s.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),0===a.length&&(0,o.jsx)("p",{className:p().loadingMessage,children:"Loading park run data..."}),(0,o.jsxs)("div",{className:p().summary,children:[(0,o.jsxs)("p",{children:["Total locations visited: ",a.length]}),(0,o.jsxs)("p",{children:["Total park runs completed: ",e.length]})]})]})}},528:e=>{e.exports={container:"ParkRunStats_container__Vk3sX",tableWrapper:"ParkRunStats_tableWrapper__ZZK6H",table:"ParkRunStats_table__GiAuh",tableHeader:"ParkRunStats_tableHeader__K_w5A",tableHeaderCell:"ParkRunStats_tableHeaderCell__fudoO",sortableHeader:"ParkRunStats_sortableHeader__hGPdf",sortIconWrapper:"ParkRunStats_sortIconWrapper__QXAy1",sortIcon:"ParkRunStats_sortIcon__7Ehex",visible:"ParkRunStats_visible__RzfSp",tableRow:"ParkRunStats_tableRow__lydTJ",tableCell:"ParkRunStats_tableCell__fHC7U",locationCell:"ParkRunStats_locationCell__xRZ83",loadingMessage:"ParkRunStats_loadingMessage__Kz_23",summary:"ParkRunStats_summary__AY0C_"}},582:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>l,oD:()=>n});var o=function(e){return e.PINK="#e26ee6",e.YELLOW="#d9ce3f",e.TEAL="#42f5cb",e.CORAL="#ff7875",e.LAVENDER="#b19cd9",e.MINT="#7dd3c0",e.PEACH="#ffb347",e.SAGE="#87a96b",e.PERIWINKLE="#c5c5ff",e.ROSE_GOLD="#e8b4cb",e.SEAFOAM="#93e5ab",e.MAUVE="#dda0dd",e.APRICOT="#fbceb1",e.TURQUOISE="#48cae4",e.LILAC="#c8a2c8",e.SOFT_BLUE="#87ceeb",e.BLUSH="#ffb3ba",e.POWDER_BLUE="#b4d4e7",e.LEMON="#f4e87c",e.ROSE="#ffa5a5",e.PISTACHIO="#c1e1c1",e.SAND="#f4d4a3",e.ORCHID="#daa5d4",e.SKY="#a8dadc",e.CHAMPAGNE="#f7d794",e.PERIWINKLE_BLUE="#a4b8d3",e.HONEY="#f3c98b",e.MINT_CREAM="#baf2d8",e.WISTERIA="#c3a6cb",e.BUTTER="#ffeaa7",e}(o||{});let r={ArrowValley:"#87ceeb",Birkenhead:"#e8b4cb",BlackRocks:"#ff7875",CannonHill:"#ffb347",ChevinForest:"#7dd3c0",Default:"#dda0dd",HackneyMarshes:"#87a96b",Harrogate:"#42f5cb",HampsteadHeath:"#b19cd9",MileEnd:"#d9ce3f",Millfield:"#fbceb1",RothayPark:"#48cae4",Roundhay:"#93e5ab",RoundhayWinter:"#b4d4e7",ToottingCommon:"#c8a2c8",VictoriaDock:"#e26ee6",WarwickRacecourse:"#c5c5ff",WoodhouseMoor:"#f4d4a3"},n=e=>r[e]||r.Default,l=Object.fromEntries(Object.entries(r).map(e=>{let[t,a]=e;return[t,a]}))},2024:e=>{e.exports={"chart-container":"rechart_chart-container__lM9OC"}},2328:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r,f:()=>o});let o={width:100,stroke:"#dbdbdb"},r={domain:["auto","auto"],stroke:"#dbdbdb"}},2894:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var o=a(5155),r=a(7086);let n={backgroundColor:"#364156",border:"1px solid #333",color:"#ededed"},l=e=>{var t;return(0,o.jsx)(r.m,{contentStyle:null!=(t=e.contentStyle)?t:n,itemStyle:{color:"#dbdbdb",...e.itemStyle},labelStyle:{color:"#dbdbdb",...e.labelStyle},...e})}},3371:(e,t,a)=>{"use strict";a.d(t,{T:()=>s,y:()=>l});var o=a(5110),r=a(6703),n=a(7011);async function l(){return(0,n.y6)({...n.W6.PUBLIC_DATA,path:"parkRuns.json"})}function s(e){return e.map(e=>({...e,totalSeconds:(0,r.to)(e.time),dayRelativeToEpoch:(0,o.xx)(e.date)}))}},4113:(e,t,a)=>{"use strict";a.d(t,{default:()=>M});var o=a(5155),r=a(2328),n=a(2596),l=a(2115),s=a(2071),c=a(6025),i=a(4474),d=a(3504),u=a(4683),h=a(919),m=a(3279),b=a(2894),f=a(5110),p=a(6703),g=a(3371),_=a(582),S=a(6980),y=a(7631),v=a.n(y),A=a(2024),x=a.n(A);let R="var(--background)",k="lastSixMonths",E=()=>(0,o.jsx)(s.h,{...r.f,tickFormatter:p.ty,tickCount:15,domain:[1080,1740]}),C=()=>(0,o.jsx)(c.W,{...r.Z,dataKey:"dayRelativeToEpoch",tickCount:6,tickFormatter:f.Yq,type:"number"}),M=()=>{var e;let[t,a]=(0,l.useState)("All"),[r,s]=(0,l.useState)(k),[c,y]=(0,l.useState)([]),[A,M]=(0,l.useState)(!1);(0,l.useEffect)(()=>{M(!0)},[]),(0,l.useEffect)(()=>{(0,g.y)().then(y)},[]);let N=[...new Set(c.map(e=>e.eventName))],w=[{value:"All",label:"All"},...N.map(e=>({value:e,label:e}))],D=[{value:"All",label:"All"},{value:k,label:"Last Six Months"},...[...new Set(c.map(e=>e.date.slice(0,4)))].map(e=>({value:e,label:e}))],j=(0,g.T)(c).sort((e,t)=>{let{dayRelativeToEpoch:a}=e,{dayRelativeToEpoch:o}=t;return a-o}).filter(e=>{if("All"==r)return!0;if(r==k){let t=new Date;t.setMonth(t.getMonth()-6);let a=(0,f.H2)(t);return e.dayRelativeToEpoch>a}return"All"==r||e.date.slice(0,4)===r}),T="All"==t?function(e){let t=Array.from(new Set(e.map(e=>e.dayRelativeToEpoch))).sort(),a=Array.from(new Set(e.map(e=>e.eventName)));return t.map(t=>{let o={dayRelativeToEpoch:t};for(let r of a){let a=e.find(e=>e.dayRelativeToEpoch===t&&e.eventName===r);o[r]=a?a.totalSeconds:void 0}return o})}(j):j.filter(e=>e.eventName===t),P=null==(e=[...j].filter(e=>"All"===t||e.eventName===t).sort((e,t)=>{let{totalSeconds:a}=e,{totalSeconds:o}=t;return a-o})[0])?void 0:e.totalSeconds;return(0,o.jsxs)(l.Fragment,{children:[A&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(S.Ay,{inputId:"location-select",className:v()["my-select"],options:w,value:w.find(e=>e.value===t),onChange:e=>a(e?e.value:"All"),isSearchable:!0,styles:{singleValue:e=>({...e,color:"#fff"}),control:e=>({...e,backgroundColor:R,color:"white"}),container:e=>({...e,minWidth:220}),menu:e=>({...e,backgroundColor:"#222",color:"white"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#333":"#222",color:_.Ay[t.data.label]||"white"})}}),(0,o.jsx)(S.Ay,{inputId:"year-select",className:v()["my-select"],options:D,value:D.find(e=>e.value===r),onChange:e=>s(e?e.value:"All"),isSearchable:!0,styles:{singleValue:e=>({...e,color:"#fff"}),control:e=>({...e,backgroundColor:R,color:"white"}),container:e=>({...e,minWidth:220}),menu:e=>({...e,backgroundColor:"#222",color:"white"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#333":"#222",color:"white"})}})]}),(0,o.jsx)("div",{className:(0,n.A)(x()["chart-container"]),children:(0,o.jsx)(i.u,{width:"100%",height:400,children:(0,o.jsxs)(d.b,{width:700,height:600,data:T,margin:{top:25,bottom:25,left:25,right:25},children:[(0,o.jsx)(C,{}),(0,o.jsx)(E,{}),(0,o.jsx)(u.s,{}),(0,o.jsx)(h.e,{label:"Best",y:P,strokeDasharray:"3 3"}),(0,o.jsx)(b.A,{labelFormatter:e=>(0,f.Yq)(e),formatter:e=>(0,p.ty)(e)}),"All"===t?N.map(e=>(0,o.jsx)(m.N,{dataKey:e,stroke:_.Ay[e],connectNulls:!0,name:e,type:"monotone",strokeWidth:2},e)):(0,o.jsx)(m.N,{dataKey:"totalSeconds",name:t,type:"monotone",strokeWidth:2,stroke:_.Ay[t]})]})})})]})}},4228:e=>{e.exports={"inline-icon":"icons_inline-icon___BiU4"}},5110:(e,t,a)=>{"use strict";a.d(t,{H2:()=>s,Yq:()=>l,kX:()=>d,r:()=>i,xx:()=>c});var o=a(2940),r=a.n(o);let n=r()("1970-01-01","YYYY-MM-DD");function l(e){return n.clone().add(e,"days").format("DD MMM YY")}function s(e){return c(e.toISOString().split("T")[0])}function c(e){return Math.floor(r()(e,"YYYY-MM-DD").diff(n,"days"))}function i(e){return/^[0-9]{8}$/.test(e)}function d(e){return r()(e,"YYYYMMDD").format("YYYY-MM-DD")}},5844:(e,t,a)=>{Promise.resolve().then(a.bind(a,4113)),Promise.resolve().then(a.bind(a,168)),Promise.resolve().then(a.t.bind(a,8549,23))},6703:(e,t,a)=>{"use strict";function o(e){let t=e.split(":").map(Number);if(2===t.length){let[e,a]=t;return 60*e+a}if(3===t.length){let[e,a,o]=t;return 3600*e+60*a+o}return 0}function r(e){let t=Math.floor(e/60);return"".concat(t,"m ").concat(e%60,"s")}function n(e){let t=Math.floor(e/3600),a=Math.floor(e%3600/60),o=Math.floor(e%60);return t>0?"".concat(t.toString().padStart(2,"0"),":").concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0")):"".concat(a.toString().padStart(2,"0"),":").concat(o.toString().padStart(2,"0"))}a.d(t,{$h:()=>n,to:()=>o,ty:()=>r})},7011:(e,t,a)=>{"use strict";a.d(t,{W6:()=>o,bb:()=>l,y6:()=>n});let o={SITE:{owner:"samc13",repo:"samc13.github.io",branch:"main"},PUBLIC_DATA:{owner:"samc13",repo:"public-data",branch:"main"},PUBLIC_BLOG:{owner:"samc13",repo:"public-blog",branch:"main"}};async function r(e,t){try{let a=await fetch(e,{cache:"no-store",...t});if(!a.ok)throw Error("Failed to fetch from GitHub: ".concat(a.status," ").concat(a.statusText));return a}catch(t){throw console.error("Error fetching from GitHub (".concat(e,"):"),t),t}}async function n(e){let{owner:t,repo:a,branch:o="main",path:n}=e;if(!n)throw Error("Path is required for fetchFromGitHub");let l="https://raw.githubusercontent.com/".concat(t,"/").concat(a,"/").concat(o,"/").concat(n),s=await r(l);return await s.json()}async function l(e){let{owner:t,repo:a,path:o=""}=e,n="https://api.github.com/repos/".concat(t,"/").concat(a,"/contents/").concat(o),l=await r(n),s=await l.json();if(!Array.isArray(s))throw Error("Unexpected response format from GitHub API");return s}},7631:e=>{e.exports={"my-select":"dropdown_my-select__C9hwQ"}},8549:e=>{e.exports={section:"sectiontitle_section__78uoA","section-title":"sectiontitle_section-title__SAEVa"}}},e=>{var t=t=>e(e.s=t);e.O(0,[274,514,586,823,841,254,23,441,684,358],()=>t(5844)),_N_E=e.O()}]);