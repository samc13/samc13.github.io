(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[199],{168:(e,t,a)=>{"use strict";a.d(t,{default:()=>p});var l=a(5155),o=a(6703),r=a(1032),n=a(6268),s=a(2940),c=a.n(s),i=a(2115),d=a(3371),u=a(528),m=a.n(u),h=a(582);let b=(0,r.FB)(),f=[b.accessor("eventName",{header:"Location",cell:e=>(0,l.jsx)("span",{style:{fontWeight:"bold",color:(0,h.oD)(e.getValue())},children:e.getValue()})}),b.accessor("bestTime",{header:"Best Time"}),b.accessor("averageTime",{header:"Avg Time"}),b.accessor("bestPosition",{header:"Position"}),b.accessor("numberOfVisits",{header:"Visits"}),b.accessor("formattedDate",{header:"PB Date"})],p=()=>{let[e,t]=(0,i.useState)([]),[a,s]=(0,i.useState)([]);(0,i.useEffect)(()=>{(0,d.y)().then(e=>{t(e),s(function(e){let t=new Map;e.forEach(e=>{t.has(e.eventName)||t.set(e.eventName,[]),t.get(e.eventName).push(e)});let a=[];return t.forEach((e,t)=>{var l;let r=e.reduce((e,t)=>(0,o.t)(t.time)<(0,o.t)(e.time)?t:e),n=function(e){let t=Math.floor(e/60),a=Math.round(e%60);return"".concat(t,":").concat(a.toString().padStart(2,"0"))}(e.reduce((e,t)=>e+(0,o.t)(t.time),0)/e.length);a.push({eventName:t,bestTime:r.time,bestPosition:r.position,bestRunDate:r.date,formattedDate:(l=r.date,c()(l,"YYYY-MM-DD").format("DD MMM YY")),averageTime:n,numberOfVisits:e.length})}),a.sort((e,t)=>e.eventName.localeCompare(t.eventName))}(e))})},[]);let u=(0,n.N4)({data:a,columns:f,getCoreRowModel:(0,r.HT)(),getSortedRowModel:(0,r.h5)()});return(0,l.jsxs)("div",{className:m().container,children:[(0,l.jsx)("div",{className:m().tableWrapper,children:(0,l.jsxs)("table",{className:m().table,children:[(0,l.jsx)("thead",{children:u.getHeaderGroups().map(e=>(0,l.jsx)("tr",{className:m().tableHeader,children:e.headers.map(e=>{var t;return(0,l.jsx)("th",{className:m().tableHeaderCell,children:e.isPlaceholder?null:(0,l.jsxs)("div",{className:e.column.getCanSort()?m().sortableHeader:"",onClick:e.column.getToggleSortingHandler(),children:[(0,n.Kv)(e.column.columnDef.header,e.getContext()),null!=(t=({asc:" \uD83D\uDD3C",desc:" \uD83D\uDD3D"})[e.column.getIsSorted()])?t:null]})},e.id)})},e.id))}),(0,l.jsx)("tbody",{children:u.getRowModel().rows.map(e=>(0,l.jsx)("tr",{className:m().tableRow,children:e.getVisibleCells().map(e=>(0,l.jsx)("td",{className:m().tableCell,children:(0,n.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id))})]})}),0===a.length&&(0,l.jsx)("p",{className:m().loadingMessage,children:"Loading park run data..."}),(0,l.jsxs)("div",{className:m().summary,children:[(0,l.jsxs)("p",{children:["Total locations visited: ",a.length]}),(0,l.jsxs)("p",{children:["Total park runs completed: ",e.length]})]})]})}},528:e=>{e.exports={container:"ParkRunStats_container__Vk3sX",tableWrapper:"ParkRunStats_tableWrapper__ZZK6H",table:"ParkRunStats_table__GiAuh",tableHeader:"ParkRunStats_tableHeader__K_w5A",tableHeaderCell:"ParkRunStats_tableHeaderCell__fudoO",sortableHeader:"ParkRunStats_sortableHeader__hGPdf",tableRow:"ParkRunStats_tableRow__lydTJ",tableCell:"ParkRunStats_tableCell__fHC7U",locationCell:"ParkRunStats_locationCell__xRZ83",loadingMessage:"ParkRunStats_loadingMessage__Kz_23",summary:"ParkRunStats_summary__AY0C_"}},582:(e,t,a)=>{"use strict";a.d(t,{Ay:()=>n,oD:()=>r});var l=function(e){return e.PINK="#e26ee6",e.YELLOW="#d9ce3f",e.TEAL="#42f5cb",e.CORAL="#ff7875",e.LAVENDER="#b19cd9",e.MINT="#7dd3c0",e.PEACH="#ffb347",e.SAGE="#87a96b",e.PERIWINKLE="#c5c5ff",e.ROSE_GOLD="#e8b4cb",e.SEAFOAM="#93e5ab",e.MAUVE="#dda0dd",e.APRICOT="#fbceb1",e.TURQUOISE="#48cae4",e.LILAC="#c8a2c8",e.SOFT_BLUE="#87ceeb",e}(l||{});let o={ArrowValley:"#87ceeb",Birkenhead:"#e8b4cb",BlackRocks:"#ff7875",CannonHill:"#ffb347",ChevinForest:"#7dd3c0",Default:"#dda0dd",HackneyMarshes:"#87a96b",Harrogate:"#42f5cb",HampsteadHeath:"#b19cd9",MileEnd:"#d9ce3f",Millfield:"#fbceb1",RothayPark:"#48cae4",Roundhay:"#93e5ab",RoundhayWinter:"#87ceeb",ToottingCommon:"#c8a2c8",VictoriaDock:"#e26ee6",WarwickRacecourse:"#c5c5ff",WoodhouseMoor:"#e26ee6"},r=e=>o[e]||o.Default,n=Object.fromEntries(Object.entries(o).map(e=>{let[t,a]=e;return[t,a]}))},2024:e=>{e.exports={"chart-container":"rechart_chart-container__lM9OC"}},2328:(e,t,a)=>{"use strict";a.d(t,{Z:()=>o,f:()=>l});let l={width:100,stroke:"#dbdbdb"},o={domain:["auto","auto"],stroke:"#dbdbdb"}},2894:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});var l=a(5155),o=a(7086);let r={backgroundColor:"#364156",border:"1px solid #333",color:"#ededed"},n=e=>{var t;return(0,l.jsx)(o.m,{contentStyle:null!=(t=e.contentStyle)?t:r,itemStyle:{color:"#dbdbdb",...e.itemStyle},labelStyle:{color:"#dbdbdb",...e.labelStyle},...e})}},3371:(e,t,a)=>{"use strict";a.d(t,{T:()=>n,y:()=>r});var l=a(5110),o=a(6703);async function r(){let e=await fetch("/resources/parkRuns.json");return await e.json()}function n(e){return e.map(e=>({...e,totalSeconds:(0,o.t)(e.time),dayRelativeToEpoch:(0,l.xx)(e.date)}))}},4113:(e,t,a)=>{"use strict";a.d(t,{default:()=>j});var l=a(5155),o=a(2328),r=a(2596),n=a(2115),s=a(2071),c=a(6025),i=a(4474),d=a(3504),u=a(4683),m=a(919),h=a(3279),b=a(2894),f=a(5110),p=a(6703),v=a(3371),_=a(582),g=a(6980),y=a(7631),S=a.n(y),k=a(2024),x=a.n(k);let M="var(--background)",A="lastSixMonths",C=()=>(0,l.jsx)(s.h,{...o.f,tickFormatter:p.M,tickCount:15,domain:[1080,1740]}),R=()=>(0,l.jsx)(c.W,{...o.Z,dataKey:"dayRelativeToEpoch",tickCount:6,tickFormatter:f.Yq,type:"number"}),j=()=>{var e;let[t,a]=(0,n.useState)("All"),[o,s]=(0,n.useState)(A),[c,y]=(0,n.useState)([]),[k,j]=(0,n.useState)(!1);(0,n.useEffect)(()=>{j(!0)},[]),(0,n.useEffect)(()=>{(0,v.y)().then(y)},[]);let N=[...new Set(c.map(e=>e.eventName))],w=[{value:"All",label:"All"},...N.map(e=>({value:e,label:e}))],E=[{value:"All",label:"All"},{value:A,label:"Last Six Months"},...[...new Set(c.map(e=>e.date.slice(0,4)))].map(e=>({value:e,label:e}))],D=(0,v.T)(c).sort((e,t)=>{let{dayRelativeToEpoch:a}=e,{dayRelativeToEpoch:l}=t;return a-l}).filter(e=>{if("All"==o)return!0;if(o==A){let t=new Date;t.setMonth(t.getMonth()-6);let a=(0,f.H2)(t);return e.dayRelativeToEpoch>a}return"All"==o||e.date.slice(0,4)===o}),Y="All"==t?function(e){let t=Array.from(new Set(e.map(e=>e.dayRelativeToEpoch))).sort(),a=Array.from(new Set(e.map(e=>e.eventName)));return t.map(t=>{let l={dayRelativeToEpoch:t};for(let o of a){let a=e.find(e=>e.dayRelativeToEpoch===t&&e.eventName===o);l[o]=a?a.totalSeconds:void 0}return l})}(D):D.filter(e=>e.eventName===t),T=null==(e=[...D].filter(e=>"All"===t||e.eventName===t).sort((e,t)=>{let{totalSeconds:a}=e,{totalSeconds:l}=t;return a-l})[0])?void 0:e.totalSeconds;return(0,l.jsxs)(n.Fragment,{children:[k&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.Ay,{inputId:"location-select",className:S()["my-select"],options:w,value:w.find(e=>e.value===t),onChange:e=>a(e?e.value:"All"),isSearchable:!0,styles:{singleValue:e=>({...e,color:"#fff"}),control:e=>({...e,backgroundColor:M,color:"white"}),container:e=>({...e,minWidth:220}),menu:e=>({...e,backgroundColor:"#222",color:"white"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#333":"#222",color:_.Ay[t.data.label]||"white"})}}),(0,l.jsx)(g.Ay,{inputId:"year-select",className:S()["my-select"],options:E,value:E.find(e=>e.value===o),onChange:e=>s(e?e.value:"All"),isSearchable:!0,styles:{singleValue:e=>({...e,color:"#fff"}),control:e=>({...e,backgroundColor:M,color:"white"}),container:e=>({...e,minWidth:220}),menu:e=>({...e,backgroundColor:"#222",color:"white"}),option:(e,t)=>({...e,backgroundColor:t.isFocused?"#333":"#222",color:"white"})}})]}),(0,l.jsx)("div",{className:(0,r.A)(x()["chart-container"]),children:(0,l.jsx)(i.u,{width:"100%",height:400,children:(0,l.jsxs)(d.b,{width:700,height:600,data:Y,margin:{top:25,bottom:25,left:25,right:25},children:[(0,l.jsx)(R,{}),(0,l.jsx)(C,{}),(0,l.jsx)(u.s,{}),(0,l.jsx)(m.e,{label:"Best",y:T,strokeDasharray:"3 3"}),(0,l.jsx)(b.A,{labelFormatter:e=>(0,f.Yq)(e),formatter:e=>(0,p.M)(e)}),"All"===t?N.map(e=>(0,l.jsx)(h.N,{dataKey:e,stroke:_.Ay[e],connectNulls:!0,name:e,type:"monotone",strokeWidth:2},e)):(0,l.jsx)(h.N,{dataKey:"totalSeconds",name:t,type:"monotone",strokeWidth:2,stroke:_.Ay[t]})]})})})]})}},5110:(e,t,a)=>{"use strict";a.d(t,{H2:()=>s,Yq:()=>n,kX:()=>i,xx:()=>c});var l=a(2940),o=a.n(l);let r=o()("1970-01-01","YYYY-MM-DD");function n(e){return r.clone().add(e,"days").format("DD MMM YY")}function s(e){return c(e.toISOString().split("T")[0])}function c(e){return Math.floor(o()(e,"YYYY-MM-DD").diff(r,"days"))}function i(e){return o()(e,"YYYYMMDD").format("YYYY-MM-DD")}},5844:(e,t,a)=>{Promise.resolve().then(a.bind(a,4113)),Promise.resolve().then(a.bind(a,168)),Promise.resolve().then(a.t.bind(a,8549,23))},6703:(e,t,a)=>{"use strict";function l(e){let[t,a]=e.split(":").map(Number);return 60*t+a}function o(e){let t=Math.floor(e/60);return"".concat(t,"m ").concat(e%60,"s")}a.d(t,{M:()=>o,t:()=>l})},7631:e=>{e.exports={"my-select":"dropdown_my-select__C9hwQ"}},8549:e=>{e.exports={section:"sectiontitle_section__78uoA","section-title":"sectiontitle_section-title__SAEVa"}}},e=>{var t=t=>e(e.s=t);e.O(0,[136,47,586,925,23,441,684,358],()=>t(5844)),_N_E=e.O()}]);